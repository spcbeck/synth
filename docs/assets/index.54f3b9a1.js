(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function k(){}function ue(e){return e()}function Z(){return Object.create(null)}function B(e){e.forEach(ue)}function V(e){return typeof e=="function"}function I(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function de(e){return Object.keys(e).length===0}function v(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function F(e){e.parentNode&&e.parentNode.removeChild(e)}function x(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function D(){return L(" ")}function G(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function me(e){return Array.from(e.childNodes)}function M(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t,n){e.classList[n?"add":"remove"](t)}let X;function j(e){X=e}const O=[],ee=[],K=[],te=[],he=Promise.resolve();let Q=!1;function ge(){Q||(Q=!0,he.then(se))}function U(e){K.push(e)}const J=new Set;let S=0;function se(){const e=X;do{for(;S<O.length;){const t=O[S];S++,j(t),_e(t.$$)}for(j(null),O.length=0,S=0;ee.length;)ee.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];J.has(n)||(J.add(n),n())}K.length=0}while(O.length);for(;te.length;)te.pop()();Q=!1,J.clear(),j(e)}function _e(e){if(e.fragment!==null){e.update(),B(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}const P=new Set;let N;function ae(){N={r:0,c:[],p:N}}function ce(){N.r||B(N.c),N=N.p}function A(e,t){e&&e.i&&(P.delete(e),e.i(t))}function E(e,t,n,l){if(e&&e.o){if(P.has(e))return;P.add(e),N.c.push(()=>{P.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function Y(e){e&&e.c()}function W(e,t,n,l){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),l||U(()=>{const s=e.$$.on_mount.map(ue).filter(V);e.$$.on_destroy?e.$$.on_destroy.push(...s):B(s),e.$$.on_mount=[]}),i.forEach(U)}function R(e,t){const n=e.$$;n.fragment!==null&&(B(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ve(e,t){e.$$.dirty[0]===-1&&(O.push(e),ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(e,t,n,l,o,i,s,h=[-1]){const f=X;j(e);const a=e.$$={fragment:null,ctx:[],props:i,update:k,not_equal:o,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Z(),dirty:h,skip_bound:!1,root:t.target||f.$$.root};s&&s(a.root);let _=!1;if(a.ctx=n?n(e,t.props||{},(u,c,...b)=>{const r=b.length?b[0]:c;return a.ctx&&o(a.ctx[u],a.ctx[u]=r)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](r),_&&ve(e,u)),c}):[],a.update(),_=!0,B(a.before_update),a.fragment=l?l(a.ctx):!1,t.target){if(t.hydrate){const u=me(t.target);a.fragment&&a.fragment.l(u),u.forEach(F)}else a.fragment&&a.fragment.c();t.intro&&A(e.$$.fragment),W(e,t.target,t.anchor,t.customElement),se()}j(f)}class H{$destroy(){R(this,1),this.$destroy=k}$on(t,n){if(!V(n))return k;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!de(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ye(e){let t,n,l,o,i,s,h;return{c(){t=C("button"),n=L(e[0]),l=D(),o=C("sub"),i=L(e[1]),g(t,"class","key svelte-1lv5b5w"),$(t,"pressed",e[2])},m(f,a){T(f,t,a),v(t,n),v(t,l),v(t,o),v(o,i),s||(h=[G(t,"mousedown",e[3]),G(t,"mouseup",e[4]),G(t,"mouseover",e[3]),G(t,"mouseleave",e[4]),G(t,"focus",e[3])],s=!0)},p(f,[a]){a&1&&M(n,f[0]),a&2&&M(i,f[1]),a&4&&$(t,"pressed",f[2])},i:k,o:k,d(f){f&&F(t),s=!1,B(h)}}}function be(e,t,n){let{note:l}=t,{octave:o}=t,{freq:i}=t,{audioContext:s}=t,{mainGainNode:h}=t,{oscList:f}=t,{waveType:a}=t,_=!1;function u(){const r=s.createOscillator();r.connect(h);const p=a;return r.type=p,r.frequency.value=i,r.start(),r}function c(r){if(r.buttons&1&&!_){const p=Number(o);n(5,f[p][l]=u(),f),n(2,_=!0)}}function b(r){if(_){const p=Number(o);f[p][l].stop(),delete f[p][l],n(2,_=!1)}}return e.$$set=r=>{"note"in r&&n(0,l=r.note),"octave"in r&&n(1,o=r.octave),"freq"in r&&n(6,i=r.freq),"audioContext"in r&&n(7,s=r.audioContext),"mainGainNode"in r&&n(8,h=r.mainGainNode),"oscList"in r&&n(5,f=r.oscList),"waveType"in r&&n(9,a=r.waveType)},[l,o,_,c,b,f,i,s,h,a]}class Ce extends H{constructor(t){super(),z(this,t,be,ye,I,{note:0,octave:1,freq:6,audioContext:7,mainGainNode:8,oscList:5,waveType:9})}}function pe(){const e=[];for(let t=0;t<9;t++)e[t]=[];return e[0].A=27.5,e[0]["A#"]=29.13523509488062,e[0].B=30.867706328507754,e[1].C=32.70319566257483,e[1]["C#"]=34.64782887210901,e[1].D=36.70809598967595,e[1]["D#"]=38.890872965260115,e[1].E=41.20344461410874,e[1].F=43.653528929125486,e[1]["F#"]=46.2493028389543,e[1].G=48.99942949771866,e[1]["G#"]=51.91308719749314,e[1].A=55,e[1]["A#"]=58.27047018976124,e[1].B=61.735412657015516,e[2].C=65.41,e[2]["C#"]=69.3,e[2].D=73.42,e[2]["D#"]=77.78,e[2].E=82.41,e[2].F=87.31,e[2]["F#"]=92.5,e[2].G=98,e[2]["G#"]=103.83,e[2].A=110,e[2]["A#"]=116.54,e[2].B=123.47,e[3].C=130.81,e[3]["C#"]=138.59,e[3].D=146.83,e[3]["D#"]=155.56,e[3].E=164.81,e[3].F=174.61,e[3]["F#"]=185,e[3].G=196,e[3]["G#"]=207.65,e[3].A=220,e[3]["A#"]=233.08,e[3].B=246.94,e[4].C=261.63,e[4]["C#"]=277.18,e[4].D=293.66,e[4]["D#"]=311.13,e[4].E=329.63,e[4].F=349.23,e[4]["F#"]=369.99,e[4].G=392,e[4]["G#"]=415.3,e[4].A=440,e[4]["A#"]=466.16,e[4].B=493.88,e[5].C=523.25,e[5]["C#"]=554.37,e[5].D=587.33,e[5]["D#"]=622.25,e[5].E=659.25,e[5].F=698.46,e[5]["F#"]=739.99,e[5].G=783.99,e[5]["G#"]=830.61,e[5].A=880,e[5]["A#"]=923.33,e[5].B=987.77,e[6].C=1046.5,e[6]["C#"]=1108.73,e[6].D=1174.66,e[6]["D#"]=1244.51,e[6].E=1318.51,e[6].F=1396.91,e[6]["F#"]=1479.98,e[6].G=1567.98,e[6]["G#"]=1661.22,e[6].A=1760,e[6]["A#"]=1864.66,e[6].B=1975.53,e[7].C=2093.004522404789,e[7]["C#"]=2217.4610478149766,e[7].D=2349.3181433392606,e[7]["D#"]=2489.0158697766474,e[7].E=2637.0204553029594,e[7].F=2793.825851464031,e[7]["F#"]=2959.955381693075,e[7].G=3135.963487853994,e[7]["G#"]=3322.437580639561,e[7].A=3520,e[7]["A#"]=3729.3100921447194,e[7].B=3951.066410048993,e[8].C=4186.009044809578,e}function we(e){let t,n,l,o,i,s,h,f,a,_;return{c(){t=C("div"),n=C("label"),l=L(e[2]),o=D(),i=C("strong"),s=L(e[6]),h=D(),f=C("input"),g(i,"class","value"),g(n,"for",e[0]),g(f,"type",e[1]),g(f,"id",e[0]),g(f,"name",e[0]),g(f,"min",e[3]),g(f,"max",e[4]),f.value=e[6],g(f,"step",e[5]),g(t,"class","control-group")},m(u,c){T(u,t,c),v(t,n),v(n,l),v(n,o),v(n,i),v(i,s),v(t,h),v(t,f),a||(_=G(f,"change",function(){V(e[7])&&e[7].apply(this,arguments)}),a=!0)},p(u,[c]){e=u,c&4&&M(l,e[2]),c&64&&M(s,e[6]),c&1&&g(n,"for",e[0]),c&2&&g(f,"type",e[1]),c&1&&g(f,"id",e[0]),c&1&&g(f,"name",e[0]),c&8&&g(f,"min",e[3]),c&16&&g(f,"max",e[4]),c&64&&f.value!==e[6]&&(f.value=e[6]),c&32&&g(f,"step",e[5])},i:k,o:k,d(u){u&&F(t),a=!1,_()}}}function Ae(e,t,n){let{name:l=""}=t,{type:o="range"}=t,{label:i=""}=t,{min:s=0}=t,{max:h=2}=t,{step:f=.1}=t,{value:a=.5}=t,{onChange:_=()=>{}}=t;return e.$$set=u=>{"name"in u&&n(0,l=u.name),"type"in u&&n(1,o=u.type),"label"in u&&n(2,i=u.label),"min"in u&&n(3,s=u.min),"max"in u&&n(4,h=u.max),"step"in u&&n(5,f=u.step),"value"in u&&n(6,a=u.value),"onChange"in u&&n(7,_=u.onChange)},[l,o,i,s,h,f,a,_]}class ke extends H{constructor(t){super(),z(this,t,Ae,we,I,{name:0,type:1,label:2,min:3,max:4,step:5,value:6,onChange:7})}}function ne(e,t,n){const l=e.slice();return l[9]=t[n],l[11]=n,l}function le(e,t,n){const l=e.slice();return l[12]=t[n],l}function oe(e){let t,n=e[12]+"",l;return{c(){t=C("option"),l=L(n),t.__value=e[12],t.value=t.__value},m(o,i){T(o,t,i),v(t,l)},p:k,d(o){o&&F(t)}}}function ie(e){let t,n;return t=new Ce({props:{note:e[9][0],octave:e[9][2],freq:e[9][1],audioContext:e[2],mainGainNode:e[0],oscList:e[3],waveType:e[1]}}),{c(){Y(t.$$.fragment)},m(l,o){W(t,l,o),n=!0},p(l,o){const i={};o&1&&(i.mainGainNode=l[0]),o&2&&(i.waveType=l[1]),t.$set(i)},i(l){n||(A(t.$$.fragment,l),n=!0)},o(l){E(t.$$.fragment,l),n=!1},d(l){R(t,l)}}}function Ge(e){let t,n,l,o,i,s,h,f,a,_;l=new ke({props:{name:"gain",label:"Gain",onChange:e[6],value:e[0].gain.value,max:10,step:1}});let u=e[4],c=[];for(let d=0;d<u.length;d+=1)c[d]=oe(le(e,u,d));let b=e[5],r=[];for(let d=0;d<b.length;d+=1)r[d]=ie(ne(e,b,d));const p=d=>E(r[d],1,1,()=>{r[d]=null});return{c(){t=C("section"),n=C("div"),Y(l.$$.fragment),o=D(),i=C("select");for(let d=0;d<c.length;d+=1)c[d].c();s=D(),h=C("div");for(let d=0;d<r.length;d+=1)r[d].c();g(i,"class","svelte-1kjgiwt"),g(n,"class","controls svelte-1kjgiwt"),g(t,"class","keyboard svelte-1kjgiwt")},m(d,y){T(d,t,y),v(t,n),W(l,n,null),v(n,o),v(n,i);for(let w=0;w<c.length;w+=1)c[w].m(i,null);v(t,s),v(t,h);for(let w=0;w<r.length;w+=1)r[w].m(h,null);f=!0,a||(_=G(i,"change",e[7]),a=!0)},p(d,[y]){const w={};if(y&1&&(w.value=d[0].gain.value),l.$set(w),y&16){u=d[4];let m;for(m=0;m<u.length;m+=1){const q=le(d,u,m);c[m]?c[m].p(q,y):(c[m]=oe(q),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=u.length}if(y&47){b=d[5];let m;for(m=0;m<b.length;m+=1){const q=ne(d,b,m);r[m]?(r[m].p(q,y),A(r[m],1)):(r[m]=ie(q),r[m].c(),A(r[m],1),r[m].m(h,null))}for(ae(),m=b.length;m<r.length;m+=1)p(m);ce()}},i(d){if(!f){A(l.$$.fragment,d);for(let y=0;y<b.length;y+=1)A(r[y]);f=!0}},o(d){E(l.$$.fragment,d),r=r.filter(Boolean);for(let y=0;y<r.length;y+=1)E(r[y]);f=!1},d(d){d&&F(t),R(l),x(c,d),x(r,d),a=!1,_()}}}let Ne=5;function Ee(e,t,n){const l=new AudioContext,o=[{},{},{},{},{},{},{},{},{},{},{},{}],i=l.createGain(),s=["square","sine","sawtooth","triangle","custom"];let h=s[0];const f=pe();let a=[];i.connect(l.destination),i.gain.value=Ne,f.forEach((c,b)=>{Object.entries(c).forEach((p,d)=>{p.push(d),a.push(p)})});function _(c){n(0,i.gain.value=Math.round(1e3*Number(c.target.value))/1e3,i)}function u(c){n(1,h=c.target.value)}return[i,h,l,o,s,a,_,u]}class Fe extends H{constructor(t){super(),z(this,t,Ee,Ge,I,{})}}function re(e){let t,n,l;return{c(){t=C("button"),t.textContent="Show me the keyboard!!!"},m(o,i){T(o,t,i),n||(l=G(t,"click",e[1]),n=!0)},p:k,d(o){o&&F(t),n=!1,l()}}}function fe(e){let t,n;return t=new Fe({}),{c(){Y(t.$$.fragment)},m(l,o){W(t,l,o),n=!0},i(l){n||(A(t.$$.fragment,l),n=!0)},o(l){E(t.$$.fragment,l),n=!1},d(l){R(t,l)}}}function Le(e){let t,n,l,o=e[0]===!1&&re(e),i=e[0]===!0&&fe();return{c(){t=C("main"),o&&o.c(),n=D(),i&&i.c()},m(s,h){T(s,t,h),o&&o.m(t,null),v(t,n),i&&i.m(t,null),l=!0},p(s,[h]){s[0]===!1?o?o.p(s,h):(o=re(s),o.c(),o.m(t,n)):o&&(o.d(1),o=null),s[0]===!0?i?h&1&&A(i,1):(i=fe(),i.c(),A(i,1),i.m(t,null)):i&&(ae(),E(i,1,1,()=>{i=null}),ce())},i(s){l||(A(i),l=!0)},o(s){E(i),l=!1},d(s){s&&F(t),o&&o.d(),i&&i.d()}}}function De(e,t,n){let l=!1;return[l,()=>n(0,l=!0)]}class Be extends H{constructor(t){super(),z(this,t,De,Le,I,{})}}new Be({target:document.getElementById("app")});
